---
title: 回退和标签
---

###  查看提交历史

查看提交历史包括两个命令：git log、 git reflog，这两个命令的区别是后者还记录了回退操作。

使用git reflog 输出关键信息，而且还包括退的记录，推荐使用。

要查看提交的历史，使用git log，这会从近到远依次列出每一次的提交。

还支持根据提交信息中的关键字来过滤提交历史。你可以使用--grep选项并指定要搜索的关键字。以下是使用该选项的示例命令：

```sh
git log --grep= '关键字'
```

关键字支持通配符。

不过，git log输出的内容较多，第一次不会显示完整，往往需要按住空格以输出更多内容，按q退出输出。推荐使用git reflog。


###   回退

首先，使用git reflog列出提交记录，找到要回退的那条记录的commitID。

然后，使用git checkout命令回退到那次提交对应的状态：

```sh
git checkout commitID
```

###  标签

Git 可以给仓库历史中的某一个提交打上标签，以示重要。 比较有代表性的是人们会使用这个功能来标记发布结点（ v1.0 、 v2.0 等等）。

在 Git 中列出已有的标签非常简单，只需要输入 git tag。

你也可以按照特定的模式查找标签。 例如，Git 自身的源代码仓库包含标签的数量超过 500 个。 如果只对 1.8.5 系列感兴趣，可以运行：

```sh
git tag -l "1.8.5*"
```

Git 支持两种标签：轻量标签（lightweight）与附注标签（annotated）。轻量标签很像一个不会改变的分支——它只是某个特定提交的引用。而附注标签是存储在 Git 数据库中的一个完整对象， 它们是可以被校验的。推荐使用附注标签。

给某次提交打标签，并附上该标签的说明：

```sh
git tag -a v1.0 9fceb02 -m "Release 1.0"
```

-a选项后接标签名称，其后接commitID，-m选项为该标签的附件说明。



